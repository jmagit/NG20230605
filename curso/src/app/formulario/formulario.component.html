<div class="mb-3">
  <button class="btn btn-primary" type="button" (click)="add()">Añadir</button>
  <button class="btn btn-primary" type="button" (click)="edit()">Editar</button>
</div>

<form #miForm="ngForm">
  <div class="mb-3">
    <label class="form-label" for="id">Código</label>
    <input class="form-control" type="number" name="id" id="id" [(ngModel)]="elemento.id" #id="ngModel" required [readOnly]="modo === 'edit'">
    <output class="error" [hidden]="!id.getError('required') || miForm.pristine">Es obligatorio</output>
  </div>
  <div class="mb-3">
    <label class="form-label" for="nombre">Nombre</label>
    <input class="form-control" type="text" name="nombre" id="nombre" [(ngModel)]="elemento.nombre" [ngModelOptions]="{updateOn: 'blur'}" #nombre="ngModel"
      required minlength="2" maxlength="10" uppercase>
    <output class="error" [hidden]="!nombre.getError('required')">Es obligatorio</output>
    <output class="error" [hidden]="!nombre.getError('minlength') && !nombre.getError('maxlength')">Debe tener entre 2 y 10 caracteres</output>
    <output class="error" [hidden]="nombre.valid">{{nombre.errors | json}}</output>
  </div>
  <div class="mb-3">
    <label class="form-label" for="apellidos">Apellidos</label>
    <input class="form-control" type="text" name="apellidos" id="apellidos" [(ngModel)]="elemento.apellidos" #apellidos="ngModel"
      minlength="2" maxlength="10">
    <output class="error" [hidden]="!apellidos.getError('minlength') && !apellidos.getError('maxlength')">Debe tener entre 2 y 10 caracteres</output>
  </div>
  <div class="mb-3">
    <label class="form-label" for="correo">Correo</label>
    <input class="form-control" type="email" name="correo" id="correo" [(ngModel)]="elemento.correo" #correo="ngModel" >
    <output class="error" [hidden]="correo.valid">{{correo.errors | errormsg}}</output>
  </div>
  <div class="mb-3">
    <label class="form-label" for="nif">NIF</label>
    <input class="form-control" type="text" name="nif" id="nif" [(ngModel)]="elemento.nif" #nif="ngModel"
      nif>
    <output class="error" [hidden]="nif.valid">{{nif.errors | errormsg}}</output>
  </div>
  <div class="mb-3">
    <label class="form-label" for="edad">Edad</label>
    <input class="form-control" type="number" name="edad" id="edad" [(ngModel)]="elemento.edad" #edad="ngModel"
      min="16" max="67">
    <output class="error" [hidden]="edad.valid">{{edad.errors | errormsg}}</output>
  </div>
  <div class="mb-3">
    <button class="btn btn-primary" type="button" (click)="send()" [disabled]="miForm.invalid">Enviar</button>
    <button class="btn btn-primary" type="button" (click)="cancel()">Volver</button>
  </div>
</form>

{{ elemento | json }}
